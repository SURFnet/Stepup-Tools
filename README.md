Stepup-Tools
============

PHP command line application for performing "backend" tasks releatd to Stepup. Currently one command:

* __authnlog__ reads the authentication log file that is generated by the Stepup-Gateway and exports it to a mysql database table.

Usage
-----
From a shell execute: ```stepup-tools authnlog stepup-authentication.log```
By default the configuration (e.g. for the database) is read from ```config-authnlog.json```.

```authnlog``` calculates a fingerprint for eache log line and won't add the same log line twice. When a ```stat_file``` is configured this file is used to keep track of the last read postion in the logfile, and to continue reading the from the last recorded position when invoked again.


Installation
------------

This is composer project. 

1. Run ```composer install``` to download and install the dependencies.
2. Copy the included ```./dist/config_authnlog.json.dist``` to ```./config_authnlog.json``` and update it to reflect the local configuraton
3. Use the included ```./dist/authnlog.sql``` to create the required database schema and table.



